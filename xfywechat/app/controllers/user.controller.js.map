{"version":3,"sources":["../../src/controllers/user.controller.js"],"names":["UserController","console","log","id","timeout","name","xxx","user","service","create","list","target","descriptor","oldValue","value","arguments","apply","testVal","Promise","resolve","setTimeout"],"mappings":";;;;;;;;;;;;;;;AAAA;;AAIA;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAMqBA,c,WAFpB,yBAAY,MAAZ,C,UACA,uCAAqB,MAArB,C,UAKC,mBAAM,YAAN,C,UAWA,mBAAM,QAAN,EAAgB,KAAhB,EAAuB,KAAvB,C,UAKA,mBAAM,MAAN,C;;;;;;;yBAnBQ;AACFC,WAAQC,GAAR,CAAY,IAAZ;AACH;;;AACiB;;;QAEpBC,E,SAAAA,E;;;;;;;eAEiBC,QAAQ;AACxBD,aAAI,IADoB;AAExBE,eAAM,OAFkB;AAGxBC,cAAKH;AAHmB,SAAR,C;;;AAAbI,Y;yCAKGA,I;;;;;;;;;;;;;;;;;;AAEuB;2BACtB;AACFN,WAAQC,GAAR,CAAY,IAAZ;AACN,UAAO,KAAKM,OAAL,CAAaC,MAAb,EAAP;AACG;;;;;;;;;;;eAGcL,QAAQ,CAAC;AACzBD,aAAI,IADqB;AAEzBE,eAAM;AAFmB,SAAD,EAGtB;AACFF,aAAI,IADF;AAEFE,eAAM;AAFJ,SAHsB,CAAR,C;;;AAAbK,Y;0CAOGA,I;;;;;;;;;;;;;;;;;;;;kBA7BYV,c;;AAgCrB,SAASE,GAAT,CAAaS,MAAb,EAAqBN,IAArB,EAA2BO,UAA3B,EAAuC;AACrC,KAAIC,WAAWD,WAAWE,KAA1B;;AAEAF,YAAWE,KAAX,GAAmB,YAAW;AAC5Bb,UAAQC,GAAR,eAAwBG,IAAxB,aAAsCU,SAAtC;AACA,SAAOF,SAASG,KAAT,CAAe,IAAf,EAAqBD,SAArB,CAAP;AACD,EAHD;;AAKA,QAAOH,UAAP;AACD;AACD,SAASR,OAAT,CAAiBa,OAAjB,EAA0B;AACzB,QAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC/BC,aAAW,YAAW;AACrBD,WAAQF,OAAR;AACA,GAFD,EAEG,EAFH;AAGA,EAJM,CAAP;AAKA","file":"user.controller.js","sourcesContent":["import {\r\n\troutePrefix,\r\n\troute\r\n} from '../router';\r\nimport UserService from '../services/user.service'\r\nimport Service from '../common/service.decorator'\r\n\r\n\r\n\r\n@routePrefix('user')\r\n@Service(UserService, 'user')\r\nexport default class UserController{\r\n    info(){\r\n        console.log(this);\r\n    }\r\n\t@route('detail/:id') // http://localhost:3000/user\r\n\tasync getUser({\r\n\t\tid\r\n\t}) {\r\n\t\tlet user = await timeout({\r\n\t\t\tid: \"01\",\r\n\t\t\tname: 'bowen',\r\n\t\t\txxx: id\r\n\t\t});\r\n\t\treturn user;\r\n\t}\r\n\t@route('create', 'get', false) // http://localhost:3000/api/user/create\r\n\tcreate() {\r\n        console.log(this)\r\n\t\treturn this.service.create();\r\n    }\r\n\t@route('list')\r\n\tasync getList() {\r\n\t\tlet list = await timeout([{\r\n\t\t\tid: \"01\",\r\n\t\t\tname: 'bowen'\r\n\t\t}, {\r\n\t\t\tid: \"01\",\r\n\t\t\tname: 'bowen'\r\n\t\t}]);\r\n\t\treturn list;\r\n\t}\r\n}\r\nfunction log(target, name, descriptor) {\r\n  var oldValue = descriptor.value;\r\n\r\n  descriptor.value = function() {\r\n    console.log(`Calling \"${name}\" with`, arguments);\r\n    return oldValue.apply(null, arguments);\r\n  };\r\n\r\n  return descriptor;\r\n}\r\nfunction timeout(testVal) {\r\n\treturn new Promise((resolve) => {\r\n\t\tsetTimeout(function() {\r\n\t\t\tresolve(testVal);\r\n\t\t}, 10);\r\n\t});\r\n}\r\n"]}