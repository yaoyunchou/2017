{"version":3,"sources":["../../src/controllers/user.controller.js"],"names":["UserController","console","log","id","timeout","name","xxx","user","service","create","list","target","descriptor","oldValue","value","arguments","apply","testVal","Promise","resolve","setTimeout"],"mappings":";;;;;;;;;;;;;;;AAAA;;AAIA;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAMqBA,c,WAFpB,yBAAY,MAAZ,C,UACA,uCAAqB,MAArB,C,UAKC,mBAAM,YAAN,C,UAWA,mBAAM,QAAN,EAAgB,KAAhB,EAAuB,KAAvB,C,UAKA,mBAAM,MAAN,C;;;;;;;yBAnBQ;AACFC,WAAQC,GAAR,CAAY,IAAZ;AACH;;;AACiB;;;QAEpBC,E,SAAAA,E;;;;;;;eAEiBC,QAAQ;AACxBD,aAAI,IADoB;AAExBE,eAAM,OAFkB;AAGxBC,cAAKH;AAHmB,SAAR,C;;;AAAbI,Y;yCAKGA,I;;;;;;;;;;;;;;;;;;AAEuB;2BACtB;AACFN,WAAQC,GAAR,CAAY,IAAZ;AACN,UAAO,KAAKM,OAAL,CAAaC,MAAb,EAAP;AACG;;;;;;;;;;;eAGcL,QAAQ,CAAC;AACzBD,aAAI,IADqB;AAEzBE,eAAM;AAFmB,SAAD,EAGtB;AACFF,aAAI,IADF;AAEFE,eAAM;AAFJ,SAHsB,CAAR,C;;;AAAbK,Y;0CAOGA,I;;;;;;;;;;;;;;;;;;;;kBA7BYV,c;;AAgCrB,SAASE,GAAT,CAAaS,MAAb,EAAqBN,IAArB,EAA2BO,UAA3B,EAAuC;AACrC,KAAIC,WAAWD,WAAWE,KAA1B;;AAEAF,YAAWE,KAAX,GAAmB,YAAW;AAC5Bb,UAAQC,GAAR,eAAwBG,IAAxB,aAAsCU,SAAtC;AACA,SAAOF,SAASG,KAAT,CAAe,IAAf,EAAqBD,SAArB,CAAP;AACD,EAHD;;AAKA,QAAOH,UAAP;AACD;AACD,SAASR,OAAT,CAAiBa,OAAjB,EAA0B;AACzB,QAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC/BC,aAAW,YAAW;AACrBD,WAAQF,OAAR;AACA,GAFD,EAEG,EAFH;AAGA,EAJM,CAAP;AAKA","file":"user.controller.js","sourcesContent":["import {\n\troutePrefix,\n\troute\n} from '../router';\nimport UserService from '../services/user.service'\nimport Service from '../common/service.decorator'\n\n\n\n@routePrefix('user')\n@Service(UserService, 'user')\nexport default class UserController{\n    info(){\n        console.log(this);\n    }\n\t@route('detail/:id') // http://localhost:3000/user\n\tasync getUser({\n\t\tid\n\t}) {\n\t\tlet user = await timeout({\n\t\t\tid: \"01\",\n\t\t\tname: 'bowen',\n\t\t\txxx: id\n\t\t});\n\t\treturn user;\n\t}\n\t@route('create', 'get', false) // http://localhost:3000/api/user/create\n\tcreate() {\n        console.log(this)\n\t\treturn this.service.create();\n    }\n\t@route('list')\n\tasync getList() {\n\t\tlet list = await timeout([{\n\t\t\tid: \"01\",\n\t\t\tname: 'bowen'\n\t\t}, {\n\t\t\tid: \"01\",\n\t\t\tname: 'bowen'\n\t\t}]);\n\t\treturn list;\n\t}\n}\nfunction log(target, name, descriptor) {\n  var oldValue = descriptor.value;\n\n  descriptor.value = function() {\n    console.log(`Calling \"${name}\" with`, arguments);\n    return oldValue.apply(null, arguments);\n  };\n\n  return descriptor;\n}\nfunction timeout(testVal) {\n\treturn new Promise((resolve) => {\n\t\tsetTimeout(function() {\n\t\t\tresolve(testVal);\n\t\t}, 10);\n\t});\n}\n"]}