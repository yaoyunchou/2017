{"version":3,"sources":["../../src/controllers/infomation.controller.js"],"names":["InfomationController","id","service","getItemById","infomation","getList","list","backData","isSuccess","data","schedule","require","rule","RecurrenceRule","dayOfWeek","Range","hour","minute","job","scheduleJob"],"mappings":";;;;;;;;;;;;;;;AAAA;;AAIA;;;;AACA;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAMqBA,oB,WAFpB,yBAAY,YAAZ,C,UACA,6CAAuB,aAAvB,C,UAEC,mBAAM,YAAN,C,UAKA,mBAAM,MAAN,C;;;;;;;AALoB;;;QACAC,E,SAAAA,E;;;;;;;eACG,KAAKC,OAAL,CAAaC,WAAb,CAAyBF,EAAzB,C;;;AAAnBG,kB;yCACGA,U;;;;;;;;;;;;;;;;;;;;;;;;;;eAIU,KAAKF,OAAL,CAAaG,OAAb,E;;;AAAbC,Y;AACAC,gB,GAAW;AACdC,oBAAU,IADI;AAEdC,eAAKH;AAFS,S;0CAKRC,Q;;;;;;;;;;;;;;;;;;;;kBAdYP,oB;;;AAkBrB,2BAAgB,gCAAhB,EAAkD,CAAlD,EAAoD,0BAApD;AACA,IAAIU,WAAWC,QAAQ,eAAR,CAAf;AACA,IAAIC,OAAO,IAAIF,SAASG,cAAb,EAAX;;AAEED,KAAKE,SAAL,GAAiB,CAAC,CAAD,EAAI,IAAIJ,SAASK,KAAb,CAAmB,CAAnB,EAAsB,CAAtB,CAAJ,CAAjB;;AAEAH,KAAKI,IAAL,GAAY,CAAZ;;AAEAJ,KAAKK,MAAL,GAAc,EAAd;;AAEA,IAAIC,MAAMR,SAASS,WAAT,CAAqBP,IAArB,EAA2B,YAAU;AAC9C,4BAAgB,gCAAhB,EAAkD,CAAlD,EAAoD,0BAApD;AACA,CAFS,CAAV","file":"infomation.controller.js","sourcesContent":["import {\r\n\troutePrefix,\r\n\troute\r\n} from '../router';\r\nimport InfomationSvc from '../services/infomation.service'\r\nimport Service from '../common/service.decorator'\r\nimport {fetchInfomation} from '../libs/util'\r\n\r\n\r\n\r\n@routePrefix('infomation')\r\n@Service(InfomationSvc, 'infomations')\r\nexport default class InfomationController{\r\n\t@route('detail/:id') // http://localhost:3000/user\r\n\tasync getInfomation({id}) {\r\n\t\tlet infomation = await this.service.getItemById(id);\r\n\t\treturn infomation;\r\n\t}\r\n\t@route('list')\r\n\tasync getList() {\r\n\t\tlet list = await this.service.getList();\r\n\t\tlet backData = {\r\n\t\t\tisSuccess:true,\r\n\t\t\tdata:list\r\n\t\t};\r\n\r\n\t\treturn backData;\r\n\t}\r\n}\r\n\r\nfetchInfomation('http://www.w3cplus.com/rss.xml', 1,new InfomationSvc());\r\nvar schedule = require(\"node-schedule\");\r\nvar rule = new schedule.RecurrenceRule();\r\n\r\n　　rule.dayOfWeek = [0, new schedule.Range(1, 6)];\r\n\r\n　　rule.hour = 1;\r\n\r\n　　rule.minute = 55;\r\n\r\n　　var job = schedule.scheduleJob(rule, function(){\r\n　　　fetchInfomation('http://www.w3cplus.com/rss.xml', 1,new InfomationSvc());\r\n　　});"]}