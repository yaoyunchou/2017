{"version":3,"sources":["webpack:///webpack/bootstrap b41f460af0a9b3b3348c","webpack:///./src/js/core/toolkit.js","webpack:///./src/js/index.js","webpack:///./src/js/ui/grid.js","webpack:///./src/js/core/generator.js"],"names":["matrixToolkit","makeRow","v","array","Array","fill","makeMatrix","from","length","makeMatrix2","arr2","shuffle","arr","endIndex","i","j","parseInt","Math","random","checkFillable","matrix","n","rowIndex","colIndex","row","column","map","value","key","box","boxToolkit","getBoxCells","convertBoxIndex","checkFlog","boxIndex","startRowIndex","startColIndex","result","push","convertFromboxIndex","module","exports","oolkit","require","Grid","$","build","Toolkit","container","_$container","spanSize","width","spanFontSize","console","log","$cells","rowValues","css","height","lineHeight","fontSize","text","cellValue","$divArray","append","$spanArray","Generator","innerGenerator","orders","vlue","fillNumber","fillRow","order","generator"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b41f460af0a9b3b3348c","const matrixToolkit = {\r\n\t/**\r\n\t * \r\n\t * 生成行\r\n\t * @param {number} [v=0] \r\n\t * @returns \r\n\t */\r\n\tmakeRow(v = 0) {\r\n\t\tlet array = new Array(9);\r\n\t\tarray.fill(v);\r\n\t\treturn array;\r\n\t},\r\n\r\n\t/**\r\n\t * 类数组利用Array的方法进行map映射，\r\n\t * from的第二个参数是一个map\r\n\t * \r\n\t * @param {number} [v=0] \r\n\t * @returns \r\n\t */\r\n\tmakeMatrix(v = 0) {\r\n\t\treturn Array.from({\r\n\t\t\tlength: 9\r\n\t\t}, () => this.makeRow(v));\r\n\r\n\t},\r\n\t/**\r\n\t * 自己如何实现，看下发挥\r\n\t * fill() 方法用于将一个固定值替换数组的元素。\r\n\t * 所以在这里makeRow只运行一次，fill把makeRow返回的值当成一个固定值了。\r\n\t * 但是这里是保存的指向地址，所以当makeRow第二个值变的时候整体就变了！\r\n\t * 所以我们\r\n\t * a要么让makeRow运行多次。\r\n\t * b,要么每次在填入二维数组的时候拷贝一份makeRow的数据，生成新的数组实例\r\n\t * @param {number} [v=0] \r\n\t */\r\n\tmakeMatrix2(v = 0) {\r\n\t\tlet arr2 = Array.from({\r\n\t\t\tlength: 9\r\n\t\t}, function() {\r\n\t\t\treturn this.makeRow();\r\n\t\t})\r\n\t\t//arr2.fill(makeRow(v));\r\n\t\treturn arr2;\r\n\t},\r\n\t/**\r\n\t * Fisher-Yates 洗牌算法\r\n\t * \r\n\t * @param {any} arr \r\n\t */\r\n\tshuffle(arr) {\r\n\t\tconst endIndex = arr.length - 2;\r\n\t\tfor (let i = 0; i <= endIndex; i++) {\r\n\t\t\tlet j = i + parseInt(Math.random() * (arr.length - i));\r\n\t\t\t[arr[i], arr[j]] = [arr[j], arr[i]];\r\n\t\t}\r\n\t\treturn arr;\r\n\t},\r\n\tcheckFillable(matrix,n,rowIndex,colIndex){\r\n\t\tconst row = matrix[rowIndex];\r\n\t\tconst column = this.makeRow().map((value,key)=>matrix[key][colIndex]);\r\n\t\tconst box = boxToolkit.getBoxCells(boxToolkit.convertBoxIndex(rowIndex,colIndex),matrix);\r\n\t\t// for(let i=0;i<9;i++){\r\n\r\n\t\t// }\r\n\t\tlet checkFlog = true;\r\n\t\tfor(let i=0;i<9;i++){\r\n\t\t\tif(row[i] === n||column[i]===n||box[i]===n){\r\n\t\t\t\tcheckFlog = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn checkFlog;\r\n\t}\r\n\r\n};\r\n/**\r\n\t * 宫坐标系\r\n\t */\r\nconst boxToolkit = {\r\n\tgetBoxCells(boxIndex,matrix){\r\n\t\tconst startRowIndex = parseInt(boxIndex/3)*3;\r\n\t\tconst startColIndex = (boxIndex%3)*3;\r\n\t\tconst result = [];\r\n\t\tfor(let i=0;i<9;i++){\r\n\t\t\tresult.push(matrix[startRowIndex+parseInt(i/3)][startColIndex+i%3])\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tconvertBoxIndex(rowIndex,colIndex){\r\n\t\treturn parseInt(rowIndex/3)*3+parseInt(colIndex/3);\r\n\t},\r\n\tconvertFromboxIndex(boxIndex){\r\n\t\treturn {\r\n\t\t\t//rowIndex:,\r\n\t\t\t//colIndex:\r\n\t\t}\r\n\t}\r\n}; \r\n\r\nmodule.exports = class Toolkit{\r\n\t/**\r\n\t * 矩阵相关工具\r\n\t */\r\n\tstatic get matrix(){\r\n\t\treturn matrixToolkit;\r\n\t}\r\n\t/**\r\n\t * 宫坐标工具\r\n\t */\r\n    static  get box(){\r\n\t\treturn boxToolkit;\r\n\t}\r\n};\r\n\r\n\r\n//测试\r\n// console.log(boxToolkit.convertBoxIndex(5,3));\r\n// var su = matrixToolkit.makeMatrix().map(rows=>rows.map((vlaue,key)=>key+1));\r\n// var col =  matrixToolkit.makeRow().map((value,key)=>su[key][3]);\r\n// console.log(col);\r\n// console.log(su);\r\n// console.log(4 in su);\r\n\r\n// console.log(boxToolkit.getBoxCells(4,su));\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/toolkit.js","const oolkit = require('./core/toolkit');\r\nconst Grid = require('./ui/grid')\r\nnew Grid($('#container')).build();\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js","const Toolkit = require('../core/toolkit');\r\nconst matrix = require('../core/generator');\r\nclass Grid{\r\n    constructor(container){\r\n        this._$container = container;\r\n    }\r\n    build(){\r\n       \r\n        const spanSize = $('body').width()*0.1+'px';\r\n        const spanFontSize = $('body').width()*0.1*0.5+'px';\r\n        console.log(matrix);\r\n        const $cells = matrix.map(rowValues => rowValues.map(cellValue=>{\r\n                return $('<span>').css({width:spanSize,height:spanSize,lineHeight:spanSize,fontSize:spanFontSize}).text(cellValue);\r\n        }));\r\n        console.log($cells);\r\n        const $divArray = $cells.map($spanArray =>{\r\n            return $(\"<div>\").append($spanArray);\r\n        })\r\n\r\n        this._$container.append($divArray);\r\n    }\r\n}\r\n\r\n\r\n// const a = Array.from({length:9},(v,k)=>k+1);\r\n// console.log(a);\r\n// console.log(toolkit.shuffle(a));\r\n// var b = toolkit.shuffle(a).sort();\r\n// console.log(b);\r\n// console.log(b.join(''));\r\n\r\n\r\n//new Grid($('#container')).build();\r\n\r\nmodule.exports = Grid;\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/grid.js","//生成数独解决方案\r\nconst Toolkit = require(\"./toolkit\");\r\n\r\n\r\n\r\nclass Generator{\r\n\r\n    generator(){\r\n        while (!this.innerGenerator()) {\r\n            console.log(\"tru agin\");\r\n        }\r\n    }\r\n    innerGenerator(){\r\n        this.matrix = Toolkit.matrix.makeMatrix();\r\n        //获取一个随机列表\r\n        this.orders = Toolkit.matrix.makeMatrix()\r\n                    .map(row=>row.map((vlue,key)=>key))\r\n                    .map(row=>Toolkit.matrix.shuffle(row));\r\n        // while (condition) {\r\n            \r\n        // }\r\n        for(let n =1; n<=9;n++){\r\n           if(!this.fillNumber(n)){\r\n               return false;\r\n           }\r\n        }\r\n        return true;\r\n    }\r\n    fillNumber(n){\r\n        return this.fillRow(n,0);\r\n    }\r\n    fillRow(n,rowIndex){\r\n        if(rowIndex>8){\r\n            return true;\r\n        }\r\n        const row = this.matrix[rowIndex];\r\n        const order = this.orders[rowIndex];\r\n        for(let i=0;i<9;i++){\r\n            const colIndex = order[i];\r\n            //如果这个位置已经有值则跳过\r\n            if(row[colIndex]){\r\n                continue;\r\n            }\r\n            //检查这个位置是否可以填n  ,我们在工具中加一个检查方法\r\n            if(!Toolkit.matrix.checkFillable(this.matrix,n,rowIndex,colIndex)){\r\n                continue;\r\n            }\r\n            row[colIndex] = n;\r\n            //当前行填写n成功  递归调用fillRow  l来进行下一行的填写；、\r\n            if(!this.fillRow(n,rowIndex+1)){\r\n                row[colIndex] = 0;\r\n                continue\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\nconst generator = new Generator();\r\ngenerator.generator();\r\nmodule.exports = generator.matrix;\n\n\n// WEBPACK FOOTER //\n// ./src/js/core/generator.js"],"sourceRoot":""}